/**
 * Parses the current state of the screen, extracting data such as the current answer for coderunner questions
 * and the last time a question was focused.
 *
 * @module     block_sage/questions/screen_parser
 * @copyright  2025 Vasilevskiy Vladimir <vivasilevskiy_1@edu.hse.ru>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_sage/questions/screen_parser",["jquery","block_sage/api/focus_api"],(function($,focus_api){const parsers=[{getType:function(){return"coderunner"},parseQuestionToJson:function(question){return{currentAnswer:$(question).find(".ace_content").text().trim()}}}];function parseQuestion(question){var parseResult={lastTouched:focus_api.getLastTimeFocused(question.id)};for(let j=0;j<parsers.length;j++){const parser=parsers[j];if($(question).hasClass(parser.getType()))return{...parseResult,...parser.parseQuestionToJson(question)}}return parseResult}return{parse:function(){const questions=$(".que"),result=[];for(let i=0;i<questions.length;i++){const question=questions[i];result.push(parseQuestion(question))}return result}}}));

//# sourceMappingURL=screen_parser.min.js.map
{"version":3,"file":"request_args.min.js","sources":["../../src/questions/request_args.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * TODO describe module request_args\n *\n * @module     block_sage/questions/request_args\n * @copyright  2025 YOUR NAME <your@email.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['block_sage/questions/screen_parser'], function(parser) {\n    /**\n     *\n     * @returns\n     */\n    function getAttemptFromURL(){\n        const attemptMatch = window.location.href.match(/attempt=(\\d+)/);\n\n        if(attemptMatch===null || attemptMatch.length<2){\n           return null;\n        }\n        return {attemptId: attemptMatch[1]};\n    }\n\n    /**\n     *\n     * @returns\n     */\n    function getRequestWithData(){\n        const attemptArgs = getAttemptFromURL();\n        if(attemptArgs===null){\n            return null;\n        }\n\n        const pageMatch = window.location.href.match(/page=(\\d+)/);\n        if(pageMatch===null || pageMatch.length<2){\n            attemptArgs[\"page\"] = 0;\n        } else {\n            attemptArgs[\"page\"] = pageMatch[1];\n        }\n\n        attemptArgs[\"extraData\"] = parser.parse();\n        return attemptArgs;\n    }\n\n    return {\n        getAttemptFromURL: getAttemptFromURL,\n\n        getRequestWithData: getRequestWithData,\n    };\n});\n"],"names":["define","parser","getAttemptFromURL","attemptMatch","window","location","href","match","length","attemptId","getRequestWithData","attemptArgs","pageMatch","parse"],"mappings":";;;;;;;AAsBAA,2CAAO,CAAC,uCAAuC,SAASC,iBAK3CC,0BACCC,aAAeC,OAAOC,SAASC,KAAKC,MAAM,wBAE9B,OAAfJ,cAAuBA,aAAaK,OAAO,EACpC,KAEH,CAACC,UAAWN,aAAa,UAwB7B,CACHD,kBAAmBA,kBAEnBQ,oCAnBMC,YAAcT,uBACH,OAAdS,mBACQ,WAGLC,UAAYR,OAAOC,SAASC,KAAKC,MAAM,qBAC9B,OAAZK,WAAoBA,UAAUJ,OAAO,EACpCG,YAAW,KAAW,EAEtBA,YAAW,KAAWC,UAAU,GAGpCD,YAAW,UAAgBV,OAAOY,QAC3BF"}
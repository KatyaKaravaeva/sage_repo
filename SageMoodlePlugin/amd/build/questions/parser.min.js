/**
 * Provides functions to parse question content from the Moodle quiz page, extracting relevant information
 * like question text, code, examples, and expected output, depending on the question type.
 *
 * @module     block_sage/parser
 * @copyright  2025 Vasilevskiy Vladimir <vivasilevskiy_1@edu.hse.ru>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_sage/questions/parser",["jquery"],(function($){const parsers=[{getType:function(){return"description"},parseQuestionToJson:function(question){const questionText=$(question).find(".qtext").text().trim();return{type:this.getType(),text:questionText}}},{getType:function(){return"coderunner"},parseQuestionToJson:function(question){let questionText="";$(question).find(".formulation.clearfix").contents().each((function(){if($(this).hasClass("for-example-para")||$(this).hasClass("prompt"))return!1;3===this.nodeType?questionText+=this.textContent.trim()+"\n":1===this.nodeType&&(questionText+=$(this).text().trim()+"\n")})),questionText=questionText.trim();const examples=$(question).find(".coderunner-examples tbody tr").map((function(){return{name:$(this).find("td:eq(0) pre").text().trim(),input:$(this).find("td:eq(1) pre").text().trim(),output:$(this).find("td:eq(2) pre").text().trim()}})).get(),code=$(question).find(".ace_content").text().trim(),output=$(question).find(".coderunner-test-results tbody tr").map((function(){return{name:$(this).find("td:eq(1) pre").text().trim(),input:$(this).find("td:eq(2) pre").text().trim(),expected:$(this).find("td:eq(3) pre").text().trim(),got:$(this).find("td:eq(4) pre").text().trim()}})).get();return{type:this.getType(),text:questionText,examples:examples,code:code,output:output}}}];function parseQuestion(question){for(let j=0;j<parsers.length;j++){const parser=parsers[j];if($(question).hasClass(parser.getType()))return parser.parseQuestionToJson(question)}}function parse(){const questions=$(".que"),result=[];for(let i=0;i<questions.length;i++){const question=questions[i];result.push(parseQuestion(question))}return result}return{init:function(){setTimeout((()=>{window.console.log(parse())}),1e3)},parse:parse}}));

//# sourceMappingURL=parser.min.js.map
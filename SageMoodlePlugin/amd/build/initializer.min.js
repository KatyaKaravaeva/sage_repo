/**
 * Initializes the Sage block, setting up necessary components and event listeners.
 * Checks for quiz attempt URL, checks Sage availability, and initializes chat,
 * error explanation, and focus tracking functionalities.
 *
 * @module     block_sage/initializer
 * @copyright  2025 Vasilevskiy Vladimir <vivasilevskiy_1@edu.hse.ru>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_sage/initializer",["block_sage/api/chat_api","block_sage/render/chat","block_sage/render/explain_error","core/ajax","block_sage/controller/focus_controller"],(function(chat_api,chat,explain_error,Ajax,focus_controller){return{init:function(){if(null===window.location.href.match(/attempt=(\d+)/))return;const request=Ajax.call([{methodname:"block_sage_check_availability",args:{}}]);request[0].done((function(response){response.available&&(chat.init(),chat_api.syncMessagesFromServer(),explain_error.init(),focus_controller.init())})),request[0].fail((function(e){window.console.error("The sage API is temporary unavailable: ",e)}))}}}));

//# sourceMappingURL=initializer.min.js.map